<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>packageJsonAndPackageLockJson | AHao</title>
    <meta name="description" content="热爱生活，热爱前端">
    <link rel="preload stylesheet" href="/nodepads/assets/style.55ef5872.css" as="style">
    <script type="module" src="/nodepads/assets/app.fe3f7072.js"></script>
    <link rel="preload" href="/nodepads/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
  <link rel="modulepreload" href="/nodepads/assets/chunks/framework.64e8dada.js">
  <link rel="modulepreload" href="/nodepads/assets/chunks/theme.60a75823.js">
  <link rel="modulepreload" href="/nodepads/assets/zh_packageJsonAndPackageLockJson.md.c952c673.lean.js">
  <meta name="theme-color" content="#000">
  <link rel="icon" href="/nodepads/favicon.ico">
  <link rel="manifest" href="/nodepads/manifest.json">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-b2cf3e0b><!--[--><!--]--><!--[--><span tabindex="-1" data-v-c8616af1></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-c8616af1> Skip to content </a><!--]--><!----><header class="VPNav" data-v-b2cf3e0b data-v-7e5bc4a5><div class="VPNavBar" data-v-7e5bc4a5 data-v-1d30fa41><div class="container" data-v-1d30fa41><div class="title" data-v-1d30fa41><div class="VPNavBarTitle" data-v-1d30fa41 data-v-f4ef19a3><a class="title" href="/nodepads/" data-v-f4ef19a3><!--[--><!--]--><!--[--><img class="VPImage logo" src="/nodepads/hero.png" alt data-v-6db2186b><!--]--><!----><!--[--><!--]--></a></div></div><div class="content" data-v-1d30fa41><div class="curtain" data-v-1d30fa41></div><div class="content-body" data-v-1d30fa41><!--[--><!--]--><div class="VPNavBarSearch search" data-v-1d30fa41 style="--673bc564:&#39;Meta&#39;;"><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-1d30fa41 data-v-7f418b0f><span id="main-nav-aria-label" class="visually-hidden" data-v-7f418b0f>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/nodepads/" tabindex="0" data-v-7f418b0f data-v-37adc828 data-v-8f4dc553><!--[-->首页<!--]--><!----></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7f418b0f data-v-764effdf><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-764effdf><span class="text" data-v-764effdf><!----> 笔记📒 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-764effdf><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-764effdf><div class="VPMenu" data-v-764effdf data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-d2c93bab><a class="VPLink link" href="/nodepads/zh/AsyncAndSynchronous" data-v-d2c93bab data-v-8f4dc553><!--[-->AsyncAndSynchronous<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-d2c93bab><a class="VPLink link" href="/nodepads/zh/BrowserRender" data-v-d2c93bab data-v-8f4dc553><!--[-->BrowserRender<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-d2c93bab><a class="VPLink link" href="/nodepads/zh/CSSRelated" data-v-d2c93bab data-v-8f4dc553><!--[-->CSSRelated<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-d2c93bab><a class="VPLink link" href="/nodepads/zh/English" data-v-d2c93bab data-v-8f4dc553><!--[-->English<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-d2c93bab><a class="VPLink link" href="/nodepads/zh/Git" data-v-d2c93bab data-v-8f4dc553><!--[-->Git<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-d2c93bab><a class="VPLink link" href="/nodepads/zh/HTTPStatusCode" data-v-d2c93bab data-v-8f4dc553><!--[-->HTTPStatusCode<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-d2c93bab><a class="VPLink link" href="/nodepads/zh/IndexedDB" data-v-d2c93bab data-v-8f4dc553><!--[-->IndexedDB<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-d2c93bab><a class="VPLink link" href="/nodepads/zh/JSRelated" data-v-d2c93bab data-v-8f4dc553><!--[-->JSRelated<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-d2c93bab><a class="VPLink link" href="/nodepads/zh/JavaScriptCodeSnippet" data-v-d2c93bab data-v-8f4dc553><!--[-->JavaScriptCodeSnippet<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-d2c93bab><a class="VPLink link" href="/nodepads/zh/MacOS" data-v-d2c93bab data-v-8f4dc553><!--[-->MacOS<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-d2c93bab><a class="VPLink link" href="/nodepads/zh/ProjectProblems" data-v-d2c93bab data-v-8f4dc553><!--[-->ProjectProblems<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-d2c93bab><a class="VPLink link" href="/nodepads/zh/SassCommandLineTutorial" data-v-d2c93bab data-v-8f4dc553><!--[-->SassCommandLineTutorial<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-d2c93bab><a class="VPLink link" href="/nodepads/zh/VuePlugIn" data-v-d2c93bab data-v-8f4dc553><!--[-->VuePlugIn<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-d2c93bab><a class="VPLink link" href="/nodepads/zh/WindowsRegedit" data-v-d2c93bab data-v-8f4dc553><!--[-->WindowsRegedit<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-d2c93bab><a class="VPLink link" href="/nodepads/zh/mysql" data-v-d2c93bab data-v-8f4dc553><!--[-->mysql<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-d2c93bab><a class="VPLink link active" href="/nodepads/zh/packageJsonAndPackageLockJson" data-v-d2c93bab data-v-8f4dc553><!--[-->packageJsonAndPackageLockJson<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-d2c93bab><a class="VPLink link" href="/nodepads/zh/vueHttp" data-v-d2c93bab data-v-8f4dc553><!--[-->vueHttp<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-1d30fa41 data-v-f6a63727><label title="toggle dark mode" data-v-f6a63727 data-v-a9c8afb8><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-checked="false" data-v-a9c8afb8 data-v-f3c41672><span class="check" data-v-f3c41672><span class="icon" data-v-f3c41672><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-a9c8afb8><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-a9c8afb8><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></label></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-1d30fa41 data-v-0394ad82 data-v-f6988cfb><!--[--><a class="VPSocialLink" href="https://github.com/FTZANKE/nodepads" aria-label="github" target="_blank" rel="noopener" data-v-f6988cfb data-v-c530cc0a><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-1d30fa41 data-v-40855f84 data-v-764effdf><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-764effdf><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-764effdf><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-764effdf><div class="VPMenu" data-v-764effdf data-v-e7ea1737><!----><!--[--><!--[--><!----><div class="group" data-v-40855f84><div class="item appearance" data-v-40855f84><p class="label" data-v-40855f84>Appearance</p><div class="appearance-action" data-v-40855f84><label title="toggle dark mode" data-v-40855f84 data-v-a9c8afb8><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-checked="false" data-v-a9c8afb8 data-v-f3c41672><span class="check" data-v-f3c41672><span class="icon" data-v-f3c41672><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-a9c8afb8><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-a9c8afb8><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></label></div></div></div><div class="group" data-v-40855f84><div class="item social-links" data-v-40855f84><div class="VPSocialLinks social-links-list" data-v-40855f84 data-v-f6988cfb><!--[--><a class="VPSocialLink" href="https://github.com/FTZANKE/nodepads" aria-label="github" target="_blank" rel="noopener" data-v-f6988cfb data-v-c530cc0a><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-1d30fa41 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><!----></header><!----><!----><div class="VPContent" id="VPContent" data-v-b2cf3e0b data-v-a494bd1d><div class="VPDoc has-aside" data-v-a494bd1d data-v-c4b0d3cf><!--[--><!--]--><div class="container" data-v-c4b0d3cf><div class="aside" data-v-c4b0d3cf><div class="aside-curtain" data-v-c4b0d3cf></div><div class="aside-container" data-v-c4b0d3cf><div class="aside-content" data-v-c4b0d3cf><div class="VPDocAside" data-v-c4b0d3cf data-v-3f215769><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-3f215769 data-v-ff0f39c8><div class="content" data-v-ff0f39c8><div class="outline-marker" data-v-ff0f39c8></div><div class="outline-title" data-v-ff0f39c8>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-ff0f39c8><span class="visually-hidden" id="doc-outline-aria-label" data-v-ff0f39c8> Table of Contents for current page </span><ul class="root" data-v-ff0f39c8 data-v-8f12e865><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-c4b0d3cf><div class="content-container" data-v-c4b0d3cf><!--[--><!--]--><!----><main class="main" data-v-c4b0d3cf><div style="position:relative;" class="vp-doc _nodepads_zh_packageJsonAndPackageLockJson" data-v-c4b0d3cf><div><h1 id="packagejsonandpackagelockjson" tabindex="-1">packageJsonAndPackageLockJson <a class="header-anchor" href="#packagejsonandpackagelockjson" aria-label="Permalink to &quot;packageJsonAndPackageLockJson&quot;">​</a></h1><p>模块化开发在前端越来越流行，使用 node 和 npm 可以很方便的下载管理项目所需的依赖模块。<code>package.json 用来描述项目及项目所依赖的模块信息。</code></p><h2 id="package-json" tabindex="-1">package.json <a class="header-anchor" href="#package-json" aria-label="Permalink to &quot;package.json&quot;">​</a></h2><h3 id="管理包" tabindex="-1">管理包 <a class="header-anchor" href="#管理包" aria-label="Permalink to &quot;管理包&quot;">​</a></h3><p><code>package.json 用来描述项目及项目所依赖的模块信息。</code>就是帮我们管理项目中的依赖包的，让我们远离了依赖地狱。</p><h3 id="语义版本控制" tabindex="-1">语义版本控制 <a class="header-anchor" href="#语义版本控制" aria-label="Permalink to &quot;语义版本控制&quot;">​</a></h3><p>依赖包的<strong>版本号的定义</strong>：</p><p>版本号由三部分组成：<code>major.minor.patch</code>，主版本号.次版本号.修补版本号。</p><p>例如：1.2.3，主要版本1，次要版本2，补丁3。</p><ul><li><code>补丁</code>中的更改表示不会破坏任何内容的错误修复。</li><li><code>次要版本</code>的更改表示不会破坏任何内容的新功能。</li><li><code>主要版本</code>的更改代表了一个破坏兼容性的大变化。如果用户不适应主要版本更改，则内容将无法正常工作。</li></ul><h3 id="安装依赖包的版本如何指定" tabindex="-1">安装依赖包的版本如何指定 <a class="header-anchor" href="#安装依赖包的版本如何指定" aria-label="Permalink to &quot;安装依赖包的版本如何指定&quot;">​</a></h3><p>安装一些依赖包的时候，版本号前面都会带 <code>^</code> 或者 <code>~</code> 的符号，这两个符号意思是：</p><p><code>~</code> 会匹配最近的小版本依赖包，比如 ~1.2.3 会匹配所有 1.2.x 版本，但是不包括 1.3.0</p><p><code>^</code> 会匹配最新的大版本依赖包，比如 ^1.2.3 会匹配所有 1.x.x 的包，包括 1.3.0，但是不包括 2.0.0</p><p><code>*</code> 安装最新版本的依赖包，比如 *1.2.3 会匹配 x.x.x，</p><p>那么该如何选择呢？当然你可以<code>指定特定的版本号</code>，直接写1.2.3，前面<strong>什么前缀都没有</strong>，这样固然没问题，但是如果依赖包发布新版本修复了一些小bug，那么需要手动修改package.json文件；<code>~</code> 和 <code>^</code> 则可以解决这个问题。</p><p>但是需要注意 ^ 版本更新可能比较大，会造成项目代码错误，所以 <strong>建议使用 <code>~</code> 来标记版本号</strong>，这样可以保证项目不会出现大的问题，也能保证包中的小bug可以得到修复。</p><p>版本号写 *，这意味着安装最新版本的依赖包，但缺点同上，可能会造成版本不兼容，<strong>慎用！</strong></p><h3 id="多人开发时依赖包安装的问题" tabindex="-1">多人开发时依赖包安装的问题 <a class="header-anchor" href="#多人开发时依赖包安装的问题" aria-label="Permalink to &quot;多人开发时依赖包安装的问题&quot;">​</a></h3><p>看了上面版本号的指定后，我们可以知道，当我们使用了 <code>^</code> 或者 <code>~</code> 来控制依赖包版本号的时候 ，多人开发，就有可能存在大家安装的依赖包版本不一样的情况，就会存在项目运行的结果不一样。</p><p><strong>我们举个例子：</strong></p><p>假设我们中安装了 <code>vue</code>, 当我们运行安装 <code>npm install vue -save</code> 的时候，在项目中的package.json 的 vue 版本是 <code>vue: ^3.0.0</code>, 我们电脑安装的vue版本就是 3.0.0 版本，我们把项目代码提交后，过了一段时间，vue 发布了新版本 3.0.1，这时新来一个同事，从新 <code>git clone</code> 克隆项目，执行 <code>npm install</code>安装的时候，在他电脑的vue版本就是 3.0.1了，因为^只是锁了主要版本，这样我们电脑中的vue版本就会不一样，<strong>从理论上讲（大家都遵循语义版本控制的话）</strong>，它们应该仍然是兼容的，但也许 bugfix 会影响我们正在使用的功能，而且当使用vue版本3.0.0和3.0.1运行时，我们的应用程序会产生不同的结果。</p><p>大家思考思考，这样的话，不同人电脑安装的依赖版项目，是不是都有可能不一样，就会导致每个人电脑运行的应用程序产生不同的结果。就会存在bug的隐患。</p><p>这时也许有同学想到，那么我们在<code>package.json</code>上面锁死依赖包的版本号不就可以了? 直接写 <code>vue: 3.0.0</code>锁死，这样大家安装vue的版本都是3.0.0版本了。</p><p>这个想法固然是不错的，但是你只能控制你自己的项目锁死版本号，那你项目中依赖包的依赖包呢？你怎么控制限制别人锁死版本号呢？</p><p>为了解决这个不同人电脑安装的所有依赖版本都是一致的，确保项目代码在安装所执行的运行结果都一样，这时 <code>package-lock.json</code> 就应运而生了。</p><h2 id="package-lock-json" tabindex="-1">package-lock.json <a class="header-anchor" href="#package-lock-json" aria-label="Permalink to &quot;package-lock.json&quot;">​</a></h2><p>package-lock.json 是在 npm(^5.x.x.x)后才有，中途有几次更改</p><h3 id="介绍" tabindex="-1">介绍 <a class="header-anchor" href="#介绍" aria-label="Permalink to &quot;介绍&quot;">​</a></h3><p><strong>官方文档</strong>是这样解释的：<code>package-lock.json</code> 它会<strong>在 npm 更改 node_modules 目录树 或者 package.json 时自动生成的</strong> ，它准确的描述了当前项目npm包的依赖树，并且在随后的安装中会根据 package-lock.json 来安装，保证是相同的一个依赖树，不考虑这个过程中是否有某个依赖有小版本的更新。</p><p>它的产生就是来对整个依赖树进行版本固定的（锁死）。</p><p>当我们在一个项目中<code>npm install</code>时候，会自动生成一个<code>package-lock.json</code>文件，和<code>package.json</code>在同一级目录下。<code>package-lock.json</code>记录了项目的一些信息和所依赖的模块。这样在每次安装都会出现相同的结果. 不管你在什么机器上面或什么时候安装。</p><p>当我们下次再<code>npm install</code>时候，npm 发现如果项目中有 <code>package-lock.json</code> 文件，会根据 <code>package-lock.json</code> 里的内容来处理和安装依赖而不再根据 <code>package.json</code>。</p><blockquote><p>注意，使用<code>cnpm install</code>时候，并不会生成 <code>package-lock.json</code> 文件，也不会根据 <code>package-lock.json</code> 来安装依赖包，还是会使用 <code>package.json</code> 来安装。</p></blockquote><h3 id="package-lock-json-生成逻辑" tabindex="-1">package-lock.json 生成逻辑 <a class="header-anchor" href="#package-lock-json-生成逻辑" aria-label="Permalink to &quot;package-lock.json 生成逻辑&quot;">​</a></h3><p>简单描述一下 <code>package-lock.json</code> 生成的逻辑。假设我们现在有三个 package，在项目 lock-test中，安装依赖A，A项目面有B，B项目面有C</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki dracula-soft"><code><span class="line"><span style="color:#7B7F8B;">// package lock-test</span></span>
<span class="line"><span style="color:#F6F6F4;">{ </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">name</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">lock-test</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">dependencies</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> { </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">A</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">^1.0.0</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> }}</span></span>
<span class="line"><span style="color:#7B7F8B;">// package A</span></span>
<span class="line"><span style="color:#F6F6F4;">{ </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">name</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">A</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">version</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">1.0.0</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">dependencies</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> { </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">B</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">^1.0.0</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> }}</span></span>
<span class="line"><span style="color:#7B7F8B;">// package B</span></span>
<span class="line"><span style="color:#F6F6F4;">{ </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">name</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">B</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">version</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">1.0.0</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">dependencies</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> { </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">C</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">^1.0.0</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> }}</span></span>
<span class="line"><span style="color:#7B7F8B;">// package C</span></span>
<span class="line"><span style="color:#F6F6F4;">{ </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">name</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">C</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">version</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">1.0.0</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> }</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>在这种情况下 <code>package-lock.json</code>, 会生成类似下面铺平的结构</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki dracula-soft"><code><span class="line"><span style="color:#7B7F8B;">// package-lock.json</span></span>
<span class="line"><span style="color:#F6F6F4;">{</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">name</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">lock-test</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">version</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">1.0.0</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">dependencies</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">A</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> { </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">version</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">1.0.0</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> },</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">B</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> { </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">version</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">1.0.0</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> },</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">C</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> { </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">version</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">1.0.0</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> }</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>如果后续无论是直接依赖的 A 发版，或者间接依赖的B, C 发版，只要我们不动 <code>package.json</code>, <code>package-lock.json</code> 都不会重新生成。</p><p>A 发布了新版本 1.1.0，虽然我们 package.json 写的是 ^1.0.0 但是因为 <code>package-lock.json</code>的存在，npm i 并不会自动升级，</p><p>我们可以手动运行 npm i A@1.1.0来实现升级。</p><p>因为 1.1.0 <code>package-lock.json</code> 里记录的 A@1.0.0是不一致的，因此会更新 <code>package-lock.json</code> 里的 A 的版本为 1.1.0。</p><p>B 发布了新版本 1.0.1, 1.0.2, 1.1.0, 此刻如果我们不做操作是不会自动升级 B 的版本的，但如果此刻 A 发布了 1.1.1，虽然并没有升级 B 的依赖，但是如果我们项目里升级 A@1.1.1，此时 <code>package-lock.json</code> 里会把 B 直接升到 1.1.0 ,因为此刻^1.0.0的最新版本就是 1.1.0。</p><p>经过这些操作后 项目 lock-test 的 package.json 变成</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki dracula-soft"><code><span class="line"><span style="color:#7B7F8B;">// package</span></span>
<span class="line"><span style="color:#F6F6F4;">lock-test{ </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">dependencies</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> { </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">A</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">^1.1.0</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> }}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>对应的 <code>package-lock.json</code> 文件</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki dracula-soft"><code><span class="line"><span style="color:#F6F6F4;">{</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">name</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">lock-test</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">version</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">1.0.0</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">dependencies</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">A</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> { </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">version</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">1.1.0</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> },</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">B</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> { </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">version</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">1.1.0</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> },</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">C</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> { </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">version</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">1.0.0</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> }</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>这个时候我们将 B 加入我们 lock-test 项目的依赖, B@^1.0.0，package.json如下</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki dracula-soft"><code><span class="line"><span style="color:#F6F6F4;">{ </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">dependencies</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> { </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">A</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">^1.1.0</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">B</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">^1.0.0</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> }}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>我们执行这个操作后，<code>package-lock.json</code> 并没有被改变，因为现在 <code>package-lock.json</code>里 B@1.1.0 满足 ^1.0.0 的要求</p><p>但是如果我们将 B 的版本固定到 2.x 版本, <code>package-lock.json</code> 就会发生改变</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki dracula-soft"><code><span class="line"><span style="color:#F6F6F4;">{ </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">dependencies</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> { </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">A</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">^1.1.0</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">B</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">^2.0.0</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> }}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>因为存在了两个冲突的B版本，<code>package-lock.json</code> 文件会变成如下形式</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki dracula-soft"><code><span class="line"><span style="color:#F6F6F4;">{</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">name</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">lock-test</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">version</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">1.0.0</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">dependencies</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">A</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">            </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">version</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">1.1.0</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">            </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">dependencies</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">                </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">B</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> { </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">version</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">1.1.0</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> }</span></span>
<span class="line"><span style="color:#F6F6F4;">            }</span></span>
<span class="line"><span style="color:#F6F6F4;">        },</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">B</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> { </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">version</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">2.0.0</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> },</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">C</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> { </span><span style="color:#97E2F2;">&quot;</span><span style="color:#97E1F1;">version</span><span style="color:#97E2F2;">&quot;</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">1.0.0</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> }</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>因为 B 的版本出现了冲突，npm 使用嵌套描述了这种行为</p><p>我们实际开发中并不需要关注这种生成的算法逻辑，我们只需要了解，<code>package-lock.json</code>的生成逻辑是为了能够精准的反映出我们 node_modules 的结构，并保证能够这种结构被还原。</p><h3 id="package-lock-json-可能被意外更改的原因" tabindex="-1">package-lock.json 可能被意外更改的原因 <a class="header-anchor" href="#package-lock-json-可能被意外更改的原因" aria-label="Permalink to &quot;package-lock.json 可能被意外更改的原因&quot;">​</a></h3><ol><li>package.json 文件修改了</li><li>挪动了包的位置将部分包的位置从 dependencies 移动到 devDependencies 这种操作，虽然包未变，但是也会影响 <code>package-lock.json</code>，会将部分包的 dev 字段设置为 true</li><li>registry 的影响</li></ol><p>经过实际使用发现，如果我们 node_modules 文件夹下的包中下载时，就算版本一样，安装源 <code>registry</code> 不同，执行 npm i 时也会修改 package-lock.json</p><p>可能还存在其他的原因，但是 <code>package-lock.json</code> 是不会无缘无故被更改的，一定是因为 <strong>package.json 或者 node_modules 被更改了</strong>，因为 正如上面提到的 package-lock.json 为了能够精准的反映出我们 node_modules 的结构</p><h3 id="开发的建议" tabindex="-1">开发的建议 <a class="header-anchor" href="#开发的建议" aria-label="Permalink to &quot;开发的建议&quot;">​</a></h3><p>一般情况下 <code>npm install</code> 是可以的，他能保证根据 <code>package-lock.json</code> 还原出开发时的 <code>node_modules</code>。</p><p>但是为了防止出现刚刚提到的意外情况，除非涉及到对包的调整，其他情况下建议使用 <code>npm ci</code>来安装依赖，会避免异常的修改 <code>package-lock.json</code>，</p><p>持续集成工具中更推荐是用 <code>npm ci</code>，保证<code>构建环境的准确性</code>，<strong>npm i 和 npm ci 的区别</strong> 可以参考<strong>官方文档 npm-ci</strong>[2]</p><h3 id="参考资料" tabindex="-1">参考资料 <a class="header-anchor" href="#参考资料" aria-label="Permalink to &quot;参考资料&quot;">​</a></h3><p>[1] 官方文档: <em><a href="https://docs.npmjs.com/cli/v8/configuring-npm/package-lock-json" target="_blank" rel="noreferrer">https://docs.npmjs.com/cli/v8/configuring-npm/package-lock-json</a></em></p><p>[2] 官方文档 npm-ci: <em><a href="https://docs.npmjs.com/cli/v8/commands/npm-ci" target="_blank" rel="noreferrer">https://docs.npmjs.com/cli/v8/commands/npm-ci</a></em></p><p>[3] 我的package-lock.json被谁改了？: <em><a href="https://cloud.tencent.com/developer/article/1819632" target="_blank" rel="noreferrer">https://cloud.tencent.com/developer/article/1819632</a></em></p><p>[4] npm install 生成的package-lock.json是什么文件？有什么用？: <em><a href="https://www.zhihu.com/question/62331583/answer/275248129" target="_blank" rel="noreferrer">https://www.zhihu.com/question/62331583/answer/275248129</a></em></p></div></div></main><footer class="VPDocFooter" data-v-c4b0d3cf data-v-face870a><!--[--><!--]--><div class="edit-info" data-v-face870a><div class="edit-link" data-v-face870a><a class="VPLink link edit-link-button" href="Javascript:void(0);" target="_blank" rel="noreferrer" data-v-face870a data-v-8f4dc553><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="edit-link-icon" aria-label="edit icon" data-v-face870a><path d="M18,23H4c-1.7,0-3-1.3-3-3V6c0-1.7,1.3-3,3-3h7c0.6,0,1,0.4,1,1s-0.4,1-1,1H4C3.4,5,3,5.4,3,6v14c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1v-7c0-0.6,0.4-1,1-1s1,0.4,1,1v7C21,21.7,19.7,23,18,23z"></path><path d="M8,17c-0.3,0-0.5-0.1-0.7-0.3C7,16.5,6.9,16.1,7,15.8l1-4c0-0.2,0.1-0.3,0.3-0.5l9.5-9.5c1.2-1.2,3.2-1.2,4.4,0c1.2,1.2,1.2,3.2,0,4.4l-9.5,9.5c-0.1,0.1-0.3,0.2-0.5,0.3l-4,1C8.2,17,8.1,17,8,17zM9.9,12.5l-0.5,2.1l2.1-0.5l9.3-9.3c0.4-0.4,0.4-1.1,0-1.6c-0.4-0.4-1.2-0.4-1.6,0l0,0L9.9,12.5z M18.5,2.5L18.5,2.5L18.5,2.5z"></path></svg> Edit this page on GitHub<!--]--><!----></a></div><div class="last-updated" data-v-face870a><p class="VPLastUpdated" data-v-face870a data-v-7b3ebfe1>Last updated: <time datetime="2023-02-26T13:32:25.000Z" data-v-7b3ebfe1></time></p></div></div><!----></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter" data-v-b2cf3e0b data-v-2f86ebd2><div class="container" data-v-2f86ebd2><p class="message" data-v-2f86ebd2>version 1.2.0</p><p class="copyright" data-v-2f86ebd2>Released under the MIT License. © 2023 AHao.</p></div></footer><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"index.md\":\"3bc5caff\",\"zh_asyncandsynchronous.md\":\"e3a81fea\",\"zh_cssrelated.md\":\"82a58265\",\"zh_httpstatuscode.md\":\"86068bc9\",\"zh_english.md\":\"93c8991f\",\"zh_git.md\":\"d9c3c085\",\"zh_browserrender.md\":\"3e827d2b\",\"zh_indexeddb.md\":\"1e8fffb5\",\"zh_windowsregedit.md\":\"3919857b\",\"zh_vueplugin.md\":\"fc227f85\",\"zh_mysql.md\":\"cda6d5f5\",\"zh_packagejsonandpackagelockjson.md\":\"c952c673\",\"zh_vuehttp.md\":\"f63ccfa2\",\"zh_sasscommandlinetutorial.md\":\"f5a036de\",\"zh_jsrelated.md\":\"bae4e4c7\",\"zh_javascriptcodesnippet.md\":\"6044d811\",\"zh_macos.md\":\"d9d4209f\",\"zh_projectproblems.md\":\"a18f17a6\"}")
__VP_SITE_DATA__ = JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"AHao\",\"description\":\"热爱生活，热爱前端\",\"base\":\"/nodepads/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"首页\",\"link\":\"/\"},{\"text\":\"笔记📒\",\"items\":[{\"text\":\"AsyncAndSynchronous\",\"collapsible\":true,\"collapsed\":true,\"link\":\"/zh/AsyncAndSynchronous.md\",\"items\":[{\"text\":\"AsyncAndSynchronous\",\"link\":\"/zh/AsyncAndSynchronous.md\"}]},{\"text\":\"BrowserRender\",\"collapsible\":true,\"collapsed\":true,\"link\":\"/zh/BrowserRender.md\",\"items\":[{\"text\":\"BrowserRender\",\"link\":\"/zh/BrowserRender.md\"}]},{\"text\":\"CSSRelated\",\"collapsible\":true,\"collapsed\":true,\"link\":\"/zh/CSSRelated.md\",\"items\":[{\"text\":\"CSSRelated\",\"link\":\"/zh/CSSRelated.md\"}]},{\"text\":\"English\",\"collapsible\":true,\"collapsed\":true,\"link\":\"/zh/English.md\",\"items\":[{\"text\":\"English\",\"link\":\"/zh/English.md\"}]},{\"text\":\"Git\",\"collapsible\":true,\"collapsed\":true,\"link\":\"/zh/Git.md\",\"items\":[{\"text\":\"Git\",\"link\":\"/zh/Git.md\"}]},{\"text\":\"HTTPStatusCode\",\"collapsible\":true,\"collapsed\":true,\"link\":\"/zh/HTTPStatusCode.md\",\"items\":[{\"text\":\"HTTPStatusCode\",\"link\":\"/zh/HTTPStatusCode.md\"}]},{\"text\":\"IndexedDB\",\"collapsible\":true,\"collapsed\":true,\"link\":\"/zh/IndexedDB.md\",\"items\":[{\"text\":\"IndexedDB\",\"link\":\"/zh/IndexedDB.md\"}]},{\"text\":\"JSRelated\",\"collapsible\":true,\"collapsed\":true,\"link\":\"/zh/JSRelated.md\",\"items\":[{\"text\":\"JSRelated\",\"link\":\"/zh/JSRelated.md\"}]},{\"text\":\"JavaScriptCodeSnippet\",\"collapsible\":true,\"collapsed\":true,\"link\":\"/zh/JavaScriptCodeSnippet.md\",\"items\":[{\"text\":\"JavaScriptCodeSnippet\",\"link\":\"/zh/JavaScriptCodeSnippet.md\"}]},{\"text\":\"MacOS\",\"collapsible\":true,\"collapsed\":true,\"link\":\"/zh/MacOS.md\",\"items\":[{\"text\":\"MacOS\",\"link\":\"/zh/MacOS.md\"}]},{\"text\":\"ProjectProblems\",\"collapsible\":true,\"collapsed\":true,\"link\":\"/zh/ProjectProblems.md\",\"items\":[{\"text\":\"ProjectProblems\",\"link\":\"/zh/ProjectProblems.md\"}]},{\"text\":\"SassCommandLineTutorial\",\"collapsible\":true,\"collapsed\":true,\"link\":\"/zh/SassCommandLineTutorial.md\",\"items\":[{\"text\":\"SassCommandLineTutorial\",\"link\":\"/zh/SassCommandLineTutorial.md\"}]},{\"text\":\"VuePlugIn\",\"collapsible\":true,\"collapsed\":true,\"link\":\"/zh/VuePlugIn.md\",\"items\":[{\"text\":\"VuePlugIn\",\"link\":\"/zh/VuePlugIn.md\"}]},{\"text\":\"WindowsRegedit\",\"collapsible\":true,\"collapsed\":true,\"link\":\"/zh/WindowsRegedit.md\",\"items\":[{\"text\":\"WindowsRegedit\",\"link\":\"/zh/WindowsRegedit.md\"}]},{\"text\":\"mysql\",\"collapsible\":true,\"collapsed\":true,\"link\":\"/zh/mysql.md\",\"items\":[{\"text\":\"mysql\",\"link\":\"/zh/mysql.md\"}]},{\"text\":\"packageJsonAndPackageLockJson\",\"collapsible\":true,\"collapsed\":true,\"link\":\"/zh/packageJsonAndPackageLockJson.md\",\"items\":[{\"text\":\"packageJsonAndPackageLockJson\",\"link\":\"/zh/packageJsonAndPackageLockJson.md\"}]},{\"text\":\"vueHttp\",\"collapsible\":true,\"collapsed\":true,\"link\":\"/zh/vueHttp.md\",\"items\":[{\"text\":\"vueHttp\",\"link\":\"/zh/vueHttp.md\"}]}]}],\"sidebar\":{},\"appearance\":\"dark\",\"logo\":\"/hero.png\",\"siteTitle\":false,\"editLink\":{\"pattern\":\"Javascript:void(0);\",\"text\":\"Edit this page on GitHub\"},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/FTZANKE/nodepads\"}],\"footer\":{\"message\":\"version 1.2.0\",\"copyright\":\"Released under the MIT License. © 2023 AHao.\"},\"algolia\":{\"appId\":\"G3RQD2O5FU\",\"apiKey\":\"01ff7f41cded2e85e2c4ee3c320c203b\",\"indexName\":\"nodepads\",\"container\":\"### REPLACE ME WITH A CONTAINER (e.g. div) ###\",\"debug\":false}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":true}")</script>
    
  </body>
</html>